{% extends "FrontendBundle::layout.html.twig" %}

{% block stylesheets %}
 {{parent()}}
<link rel="stylesheet" href="{{ asset('css/slides/animation.css') }}">
<link rel="stylesheet" href="{{ asset('css/slides/style.css') }}">
<link href='http://fonts.googleapis.com/css?family=Open+Sans:400,400italic,700,800,800italic' rel='stylesheet' type='text/css'>
<link rel="stylesheet" href="{{ asset('css/tweets.css') }}">
{% endblock %}

{% block body %}
<section id="contenido">
    <article id="content-slider">
        <div id="slider">
            <div id="mask">
                <ul>
                    <li id="first" class="firstanimation">
                        <a href="#">
                            <img src="{{galerias[0].webPath | apply_filter('galeria_imagen_recortar')}}" alt="{{galerias[0].titulo}}"/>
                        </a>
                        <div class="tooltip">
                            <h1>{{galerias[0].titulo}}</h1>
                        </div>
                    </li>

                    <li id="second" class="secondanimation">
                        <a href="#">
                            <img src="{{galerias[1].webPath | apply_filter('galeria_imagen_recortar')}}" alt="{{galerias[1].titulo}}"/>
                        </a>
                        <div class="tooltip">
                            <h1>{{galerias[1].titulo}}</h1>
                        </div>
                    </li>

                    <li id="third" class="thirdanimation">
                        <a href="#">
                            <img src="{{galerias[2].webPath | apply_filter('galeria_imagen_recortar')}}" alt="{{galerias[2].titulo}}"/>
                        </a>
                        <div class="tooltip">
                            <h1>{{galerias[2].titulo}}</h1>
                        </div>
                    </li>

                    <li id="fourth" class="fourthanimation">
                        <a href="#">
                            <img src="{{galerias[3].webPath | apply_filter('galeria_imagen_recortar')}}" alt="{{galerias[3].titulo}}"/>
                        </a>
                        <div class="tooltip">
                            <h1>{{galerias[3].titulo}}</h1>
                        </div>
                    </li>

                    <li id="fifth" class="fifthanimation">
                        <a href="#">
                            <img src="{{galerias[4].webPath | apply_filter('galeria_imagen_recortar')}}" alt="{{galerias[4].titulo}}"/>
                        </a>
                        <div class="tooltip">
                            <h1>{{galerias[4].titulo}}</h1>
                        </div>
                    </li>
                </ul>
            </div>
            <div class="progress-bar"></div>
        </div>
    </article>    
    <article id="tweets-contenedor">
    {{ render(controller("FrontendBundle:Default:lastTweets",{'username': 'LaNinadelMezcal'})) }}
    </article>

</section>

{% endblock %}
{% block javascripts %}
    {{parent()}}
    <script>
    jQuery.iniciarCircle=function(){
        $('ul.tweets-lista li:first-child').slideUp("slow",function(){
            $('ul.tweets-lista').append($(this).slideDown("fast"));
        });

        setTimeout(function(){
            $.iniciarCircle();
        },6000);
    }

    jQuery.mostrarTooltip=function() {
        $("#slider li .tooltip").animate({'left':'0px','opacity':1},'fast',function(){
            $("#slider li, #slider .progress-bar").css({"-moz-animation-play-state":"paused","-webkit-animation-play-state":"paused"});
        });

        setTimeout(function(){
            $.ocultarTooltip();
        },5000);
    }

    jQuery.ocultarTooltip=function() {
        $("#slider li .tooltip").animate({'left':'-320px','opacity':0},'fast',function(){
            $("#slider li, #slider .progress-bar").css({"-moz-animation-play-state":"running","-webkit-animation-play-state":"running"});
        });

        setTimeout(function(){
            $.mostrarTooltip();
        },5000);
    }

    jQuery.iniciar=function(){
        $.iniciarCircle();
        $.mostrarTooltip();
    }
    
    $(document).on("ready",$.iniciar);
    </script>
{% endblock %}